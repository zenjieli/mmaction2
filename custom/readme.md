==Installation==

* Create new new environment
```
conda create --name mm python=3.8 -y
conda activate mm
```
* Install Pytorch
```
pip install torch==2.1.0 torchvision==0.16.0 --index-url https://download.pytorch.org/whl/cu121
```
* Install *mmlab* libraries
```
pip install -U openmim
mim install mmengine
mim install mmcv==2.1.0
mim install mmdet==3.2.0
mim install mmpose
```
* Install *mmactions*
Enter the `mmaction` directory.
```
cd mmaction2
pip install -r requirements/build.txt
pip install -v -e .
```

==Datasets==

When running `resize_videos.py`, a wrong version of `ffmpeg` in the current environment may cause the error "Unknown encoder 'libx264'". The fix is to run `/usr/local/ffmpeg` explictily in the script.

==Configuration==

* Explanation on `SampleFrames`: <https://github.com/open-mmlab/mmaction2/issues/1662>

==Training==
First, organize the dataset into train/test folders with corresponding clips which is some sub-folders with 10 frames in it. Modify some paths in `data_to_pkl.py` file to make sure the dataset is at the right location and the json files that generated by RTMPose. Then, run `data_to_pkl.py` to generate the annotation pickel file. 

Second, modify the `ann_file` variable in `custom/configs/c3d_cauca_kul.py` to the new path of the pickle file. You can also change some configs in the file, I used the original configs from PoseC3D.

Third, using the `tools/train.py` with the argument of the configuration file to train and evaluate the performance.